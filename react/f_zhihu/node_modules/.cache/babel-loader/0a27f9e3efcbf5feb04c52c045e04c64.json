{"ast":null,"code":"/**\r\n * @fileoverview Defines a storage for rules.\r\n * @author Nicholas C. Zakas\r\n * @author aladdin-add\r\n */\n\"use strict\"; //------------------------------------------------------------------------------\n// Requirements\n//------------------------------------------------------------------------------\n\nconst builtInRules = require(\"../rules\"); //------------------------------------------------------------------------------\n// Helpers\n//------------------------------------------------------------------------------\n\n/**\r\n * Normalizes a rule module to the new-style API\r\n * @param {(Function|{create: Function})} rule A rule object, which can either be a function\r\n * (\"old-style\") or an object with a `create` method (\"new-style\")\r\n * @returns {{create: Function}} A new-style rule.\r\n */\n\n\nfunction normalizeRule(rule) {\n  return typeof rule === \"function\" ? Object.assign({\n    create: rule\n  }, rule) : rule;\n} //------------------------------------------------------------------------------\n// Public Interface\n//------------------------------------------------------------------------------\n\n/**\r\n * A storage for rules.\r\n */\n\n\nclass Rules {\n  constructor() {\n    this._rules = Object.create(null);\n  }\n  /**\r\n   * Registers a rule module for rule id in storage.\r\n   * @param {string} ruleId Rule id (file name).\r\n   * @param {Function} ruleModule Rule handler.\r\n   * @returns {void}\r\n   */\n\n\n  define(ruleId, ruleModule) {\n    this._rules[ruleId] = normalizeRule(ruleModule);\n  }\n  /**\r\n   * Access rule handler by id (file name).\r\n   * @param {string} ruleId Rule id (file name).\r\n   * @returns {{create: Function, schema: JsonSchema[]}}\r\n   * A rule. This is normalized to always have the new-style shape with a `create` method.\r\n   */\n\n\n  get(ruleId) {\n    if (typeof this._rules[ruleId] === \"string\") {\n      this.define(ruleId, require(this._rules[ruleId]));\n    }\n\n    if (this._rules[ruleId]) {\n      return this._rules[ruleId];\n    }\n\n    if (builtInRules.has(ruleId)) {\n      return builtInRules.get(ruleId);\n    }\n\n    return null;\n  }\n\n  *[Symbol.iterator]() {\n    yield* builtInRules;\n\n    for (const ruleId of Object.keys(this._rules)) {\n      yield [ruleId, this.get(ruleId)];\n    }\n  }\n\n}\n\nmodule.exports = Rules;","map":{"version":3,"sources":["C:/Users/2928/Desktop/zhuawa/notes/project_demo/react_project/node_modules/eslint/lib/linter/rules.js"],"names":["builtInRules","require","normalizeRule","rule","Object","assign","create","Rules","constructor","_rules","define","ruleId","ruleModule","get","has","Symbol","iterator","keys","module","exports"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AAEA,a,CAEA;AACA;AACA;;AAEA,MAAMA,YAAY,GAAGC,OAAO,CAAC,UAAD,CAA5B,C,CAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;AACA,SAASC,aAAT,CAAuBC,IAAvB,EAA6B;AACzB,SAAO,OAAOA,IAAP,KAAgB,UAAhB,GAA6BC,MAAM,CAACC,MAAP,CAAc;AAAEC,IAAAA,MAAM,EAAEH;AAAV,GAAd,EAAgCA,IAAhC,CAA7B,GAAqEA,IAA5E;AACH,C,CAED;AACA;AACA;;AAEA;AACA;AACA;;;AACA,MAAMI,KAAN,CAAY;AACRC,EAAAA,WAAW,GAAG;AACV,SAAKC,MAAL,GAAcL,MAAM,CAACE,MAAP,CAAc,IAAd,CAAd;AACH;AAED;AACJ;AACA;AACA;AACA;AACA;;;AACII,EAAAA,MAAM,CAACC,MAAD,EAASC,UAAT,EAAqB;AACvB,SAAKH,MAAL,CAAYE,MAAZ,IAAsBT,aAAa,CAACU,UAAD,CAAnC;AACH;AAED;AACJ;AACA;AACA;AACA;AACA;;;AACIC,EAAAA,GAAG,CAACF,MAAD,EAAS;AACR,QAAI,OAAO,KAAKF,MAAL,CAAYE,MAAZ,CAAP,KAA+B,QAAnC,EAA6C;AACzC,WAAKD,MAAL,CAAYC,MAAZ,EAAoBV,OAAO,CAAC,KAAKQ,MAAL,CAAYE,MAAZ,CAAD,CAA3B;AACH;;AACD,QAAI,KAAKF,MAAL,CAAYE,MAAZ,CAAJ,EAAyB;AACrB,aAAO,KAAKF,MAAL,CAAYE,MAAZ,CAAP;AACH;;AACD,QAAIX,YAAY,CAACc,GAAb,CAAiBH,MAAjB,CAAJ,EAA8B;AAC1B,aAAOX,YAAY,CAACa,GAAb,CAAiBF,MAAjB,CAAP;AACH;;AAED,WAAO,IAAP;AACH;;AAEgB,IAAfI,MAAM,CAACC,QAAQ,IAAI;AACjB,WAAOhB,YAAP;;AAEA,SAAK,MAAMW,MAAX,IAAqBP,MAAM,CAACa,IAAP,CAAY,KAAKR,MAAjB,CAArB,EAA+C;AAC3C,YAAM,CAACE,MAAD,EAAS,KAAKE,GAAL,CAASF,MAAT,CAAT,CAAN;AACH;AACJ;;AAzCO;;AA4CZO,MAAM,CAACC,OAAP,GAAiBZ,KAAjB","sourcesContent":["/**\r\n * @fileoverview Defines a storage for rules.\r\n * @author Nicholas C. Zakas\r\n * @author aladdin-add\r\n */\r\n\r\n\"use strict\";\r\n\r\n//------------------------------------------------------------------------------\r\n// Requirements\r\n//------------------------------------------------------------------------------\r\n\r\nconst builtInRules = require(\"../rules\");\r\n\r\n//------------------------------------------------------------------------------\r\n// Helpers\r\n//------------------------------------------------------------------------------\r\n\r\n/**\r\n * Normalizes a rule module to the new-style API\r\n * @param {(Function|{create: Function})} rule A rule object, which can either be a function\r\n * (\"old-style\") or an object with a `create` method (\"new-style\")\r\n * @returns {{create: Function}} A new-style rule.\r\n */\r\nfunction normalizeRule(rule) {\r\n    return typeof rule === \"function\" ? Object.assign({ create: rule }, rule) : rule;\r\n}\r\n\r\n//------------------------------------------------------------------------------\r\n// Public Interface\r\n//------------------------------------------------------------------------------\r\n\r\n/**\r\n * A storage for rules.\r\n */\r\nclass Rules {\r\n    constructor() {\r\n        this._rules = Object.create(null);\r\n    }\r\n\r\n    /**\r\n     * Registers a rule module for rule id in storage.\r\n     * @param {string} ruleId Rule id (file name).\r\n     * @param {Function} ruleModule Rule handler.\r\n     * @returns {void}\r\n     */\r\n    define(ruleId, ruleModule) {\r\n        this._rules[ruleId] = normalizeRule(ruleModule);\r\n    }\r\n\r\n    /**\r\n     * Access rule handler by id (file name).\r\n     * @param {string} ruleId Rule id (file name).\r\n     * @returns {{create: Function, schema: JsonSchema[]}}\r\n     * A rule. This is normalized to always have the new-style shape with a `create` method.\r\n     */\r\n    get(ruleId) {\r\n        if (typeof this._rules[ruleId] === \"string\") {\r\n            this.define(ruleId, require(this._rules[ruleId]));\r\n        }\r\n        if (this._rules[ruleId]) {\r\n            return this._rules[ruleId];\r\n        }\r\n        if (builtInRules.has(ruleId)) {\r\n            return builtInRules.get(ruleId);\r\n        }\r\n\r\n        return null;\r\n    }\r\n\r\n    *[Symbol.iterator]() {\r\n        yield* builtInRules;\r\n\r\n        for (const ruleId of Object.keys(this._rules)) {\r\n            yield [ruleId, this.get(ruleId)];\r\n        }\r\n    }\r\n}\r\n\r\nmodule.exports = Rules;\r\n"]},"metadata":{},"sourceType":"script"}