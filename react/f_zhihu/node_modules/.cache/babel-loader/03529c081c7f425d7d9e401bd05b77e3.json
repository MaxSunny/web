{"ast":null,"code":"/**\r\n * @fileoverview Define the cursor which iterates tokens and comments.\r\n * @author Toru Nagashima\r\n */\n\"use strict\"; //------------------------------------------------------------------------------\n// Requirements\n//------------------------------------------------------------------------------\n\nconst Cursor = require(\"./cursor\");\n\nconst utils = require(\"./utils\"); //------------------------------------------------------------------------------\n// Exports\n//------------------------------------------------------------------------------\n\n/**\r\n * The cursor which iterates tokens and comments.\r\n */\n\n\nmodule.exports = class ForwardTokenCommentCursor extends Cursor {\n  /**\r\n   * Initializes this cursor.\r\n   * @param {Token[]} tokens The array of tokens.\r\n   * @param {Comment[]} comments The array of comments.\r\n   * @param {Object} indexMap The map from locations to indices in `tokens`.\r\n   * @param {number} startLoc The start location of the iteration range.\r\n   * @param {number} endLoc The end location of the iteration range.\r\n   */\n  constructor(tokens, comments, indexMap, startLoc, endLoc) {\n    super();\n    this.tokens = tokens;\n    this.comments = comments;\n    this.tokenIndex = utils.getFirstIndex(tokens, indexMap, startLoc);\n    this.commentIndex = utils.search(comments, startLoc);\n    this.border = endLoc;\n  }\n  /** @inheritdoc */\n\n\n  moveNext() {\n    const token = this.tokenIndex < this.tokens.length ? this.tokens[this.tokenIndex] : null;\n    const comment = this.commentIndex < this.comments.length ? this.comments[this.commentIndex] : null;\n\n    if (token && (!comment || token.range[0] < comment.range[0])) {\n      this.current = token;\n      this.tokenIndex += 1;\n    } else if (comment) {\n      this.current = comment;\n      this.commentIndex += 1;\n    } else {\n      this.current = null;\n    }\n\n    return Boolean(this.current) && (this.border === -1 || this.current.range[1] <= this.border);\n  }\n\n};","map":{"version":3,"sources":["C:/Users/2928/Desktop/zhuawa/notes/project_demo/react_project/node_modules/eslint/lib/source-code/token-store/forward-token-comment-cursor.js"],"names":["Cursor","require","utils","module","exports","ForwardTokenCommentCursor","constructor","tokens","comments","indexMap","startLoc","endLoc","tokenIndex","getFirstIndex","commentIndex","search","border","moveNext","token","length","comment","range","current","Boolean"],"mappings":"AAAA;AACA;AACA;AACA;AACA,a,CAEA;AACA;AACA;;AAEA,MAAMA,MAAM,GAAGC,OAAO,CAAC,UAAD,CAAtB;;AACA,MAAMC,KAAK,GAAGD,OAAO,CAAC,SAAD,CAArB,C,CAEA;AACA;AACA;;AAEA;AACA;AACA;;;AACAE,MAAM,CAACC,OAAP,GAAiB,MAAMC,yBAAN,SAAwCL,MAAxC,CAA+C;AAE5D;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACIM,EAAAA,WAAW,CAACC,MAAD,EAASC,QAAT,EAAmBC,QAAnB,EAA6BC,QAA7B,EAAuCC,MAAvC,EAA+C;AACtD;AACA,SAAKJ,MAAL,GAAcA,MAAd;AACA,SAAKC,QAAL,GAAgBA,QAAhB;AACA,SAAKI,UAAL,GAAkBV,KAAK,CAACW,aAAN,CAAoBN,MAApB,EAA4BE,QAA5B,EAAsCC,QAAtC,CAAlB;AACA,SAAKI,YAAL,GAAoBZ,KAAK,CAACa,MAAN,CAAaP,QAAb,EAAuBE,QAAvB,CAApB;AACA,SAAKM,MAAL,GAAcL,MAAd;AACH;AAED;;;AACAM,EAAAA,QAAQ,GAAG;AACP,UAAMC,KAAK,GAAI,KAAKN,UAAL,GAAkB,KAAKL,MAAL,CAAYY,MAA/B,GAAyC,KAAKZ,MAAL,CAAY,KAAKK,UAAjB,CAAzC,GAAwE,IAAtF;AACA,UAAMQ,OAAO,GAAI,KAAKN,YAAL,GAAoB,KAAKN,QAAL,CAAcW,MAAnC,GAA6C,KAAKX,QAAL,CAAc,KAAKM,YAAnB,CAA7C,GAAgF,IAAhG;;AAEA,QAAII,KAAK,KAAK,CAACE,OAAD,IAAYF,KAAK,CAACG,KAAN,CAAY,CAAZ,IAAiBD,OAAO,CAACC,KAAR,CAAc,CAAd,CAAlC,CAAT,EAA8D;AAC1D,WAAKC,OAAL,GAAeJ,KAAf;AACA,WAAKN,UAAL,IAAmB,CAAnB;AACH,KAHD,MAGO,IAAIQ,OAAJ,EAAa;AAChB,WAAKE,OAAL,GAAeF,OAAf;AACA,WAAKN,YAAL,IAAqB,CAArB;AACH,KAHM,MAGA;AACH,WAAKQ,OAAL,GAAe,IAAf;AACH;;AAED,WAAOC,OAAO,CAAC,KAAKD,OAAN,CAAP,KAA0B,KAAKN,MAAL,KAAgB,CAAC,CAAjB,IAAsB,KAAKM,OAAL,CAAaD,KAAb,CAAmB,CAAnB,KAAyB,KAAKL,MAA9E,CAAP;AACH;;AAnC2D,CAAhE","sourcesContent":["/**\r\n * @fileoverview Define the cursor which iterates tokens and comments.\r\n * @author Toru Nagashima\r\n */\r\n\"use strict\";\r\n\r\n//------------------------------------------------------------------------------\r\n// Requirements\r\n//------------------------------------------------------------------------------\r\n\r\nconst Cursor = require(\"./cursor\");\r\nconst utils = require(\"./utils\");\r\n\r\n//------------------------------------------------------------------------------\r\n// Exports\r\n//------------------------------------------------------------------------------\r\n\r\n/**\r\n * The cursor which iterates tokens and comments.\r\n */\r\nmodule.exports = class ForwardTokenCommentCursor extends Cursor {\r\n\r\n    /**\r\n     * Initializes this cursor.\r\n     * @param {Token[]} tokens The array of tokens.\r\n     * @param {Comment[]} comments The array of comments.\r\n     * @param {Object} indexMap The map from locations to indices in `tokens`.\r\n     * @param {number} startLoc The start location of the iteration range.\r\n     * @param {number} endLoc The end location of the iteration range.\r\n     */\r\n    constructor(tokens, comments, indexMap, startLoc, endLoc) {\r\n        super();\r\n        this.tokens = tokens;\r\n        this.comments = comments;\r\n        this.tokenIndex = utils.getFirstIndex(tokens, indexMap, startLoc);\r\n        this.commentIndex = utils.search(comments, startLoc);\r\n        this.border = endLoc;\r\n    }\r\n\r\n    /** @inheritdoc */\r\n    moveNext() {\r\n        const token = (this.tokenIndex < this.tokens.length) ? this.tokens[this.tokenIndex] : null;\r\n        const comment = (this.commentIndex < this.comments.length) ? this.comments[this.commentIndex] : null;\r\n\r\n        if (token && (!comment || token.range[0] < comment.range[0])) {\r\n            this.current = token;\r\n            this.tokenIndex += 1;\r\n        } else if (comment) {\r\n            this.current = comment;\r\n            this.commentIndex += 1;\r\n        } else {\r\n            this.current = null;\r\n        }\r\n\r\n        return Boolean(this.current) && (this.border === -1 || this.current.range[1] <= this.border);\r\n    }\r\n};\r\n"]},"metadata":{},"sourceType":"script"}