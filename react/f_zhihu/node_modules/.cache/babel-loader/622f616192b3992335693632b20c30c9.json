{"ast":null,"code":"/**\r\n * @fileoverview A rule to control the style of variable initializations.\r\n * @author Colin Ihrig\r\n */\n\"use strict\"; //------------------------------------------------------------------------------\n// Helpers\n//------------------------------------------------------------------------------\n\n/**\r\n * Checks whether or not a given node is a for loop.\r\n * @param {ASTNode} block A node to check.\r\n * @returns {boolean} `true` when the node is a for loop.\r\n */\n\nfunction isForLoop(block) {\n  return block.type === \"ForInStatement\" || block.type === \"ForOfStatement\" || block.type === \"ForStatement\";\n}\n/**\r\n * Checks whether or not a given declarator node has its initializer.\r\n * @param {ASTNode} node A declarator node to check.\r\n * @returns {boolean} `true` when the node has its initializer.\r\n */\n\n\nfunction isInitialized(node) {\n  const declaration = node.parent;\n  const block = declaration.parent;\n\n  if (isForLoop(block)) {\n    if (block.type === \"ForStatement\") {\n      return block.init === declaration;\n    }\n\n    return block.left === declaration;\n  }\n\n  return Boolean(node.init);\n} //------------------------------------------------------------------------------\n// Rule Definition\n//------------------------------------------------------------------------------\n\n/** @type {import('../shared/types').Rule} */\n\n\nmodule.exports = {\n  meta: {\n    type: \"suggestion\",\n    docs: {\n      description: \"require or disallow initialization in variable declarations\",\n      recommended: false,\n      url: \"https://eslint.org/docs/rules/init-declarations\"\n    },\n    schema: {\n      anyOf: [{\n        type: \"array\",\n        items: [{\n          enum: [\"always\"]\n        }],\n        minItems: 0,\n        maxItems: 1\n      }, {\n        type: \"array\",\n        items: [{\n          enum: [\"never\"]\n        }, {\n          type: \"object\",\n          properties: {\n            ignoreForLoopInit: {\n              type: \"boolean\"\n            }\n          },\n          additionalProperties: false\n        }],\n        minItems: 0,\n        maxItems: 2\n      }]\n    },\n    messages: {\n      initialized: \"Variable '{{idName}}' should be initialized on declaration.\",\n      notInitialized: \"Variable '{{idName}}' should not be initialized on declaration.\"\n    }\n  },\n\n  create(context) {\n    const MODE_ALWAYS = \"always\",\n          MODE_NEVER = \"never\";\n    const mode = context.options[0] || MODE_ALWAYS;\n    const params = context.options[1] || {}; //--------------------------------------------------------------------------\n    // Public API\n    //--------------------------------------------------------------------------\n\n    return {\n      \"VariableDeclaration:exit\"(node) {\n        const kind = node.kind,\n              declarations = node.declarations;\n\n        for (let i = 0; i < declarations.length; ++i) {\n          const declaration = declarations[i],\n                id = declaration.id,\n                initialized = isInitialized(declaration),\n                isIgnoredForLoop = params.ignoreForLoopInit && isForLoop(node.parent);\n          let messageId = \"\";\n\n          if (mode === MODE_ALWAYS && !initialized) {\n            messageId = \"initialized\";\n          } else if (mode === MODE_NEVER && kind !== \"const\" && initialized && !isIgnoredForLoop) {\n            messageId = \"notInitialized\";\n          }\n\n          if (id.type === \"Identifier\" && messageId) {\n            context.report({\n              node: declaration,\n              messageId,\n              data: {\n                idName: id.name\n              }\n            });\n          }\n        }\n      }\n\n    };\n  }\n\n};","map":{"version":3,"sources":["C:/Users/2928/Desktop/zhuawa/notes/project_demo/react_project/node_modules/eslint/lib/rules/init-declarations.js"],"names":["isForLoop","block","type","isInitialized","node","declaration","parent","init","left","Boolean","module","exports","meta","docs","description","recommended","url","schema","anyOf","items","enum","minItems","maxItems","properties","ignoreForLoopInit","additionalProperties","messages","initialized","notInitialized","create","context","MODE_ALWAYS","MODE_NEVER","mode","options","params","kind","declarations","i","length","id","isIgnoredForLoop","messageId","report","data","idName","name"],"mappings":"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","sourcesContent":["/**\r\n * @fileoverview A rule to control the style of variable initializations.\r\n * @author Colin Ihrig\r\n */\r\n\r\n\"use strict\";\r\n\r\n//------------------------------------------------------------------------------\r\n// Helpers\r\n//------------------------------------------------------------------------------\r\n\r\n/**\r\n * Checks whether or not a given node is a for loop.\r\n * @param {ASTNode} block A node to check.\r\n * @returns {boolean} `true` when the node is a for loop.\r\n */\r\nfunction isForLoop(block) {\r\n    return block.type === \"ForInStatement\" ||\r\n    block.type === \"ForOfStatement\" ||\r\n    block.type === \"ForStatement\";\r\n}\r\n\r\n/**\r\n * Checks whether or not a given declarator node has its initializer.\r\n * @param {ASTNode} node A declarator node to check.\r\n * @returns {boolean} `true` when the node has its initializer.\r\n */\r\nfunction isInitialized(node) {\r\n    const declaration = node.parent;\r\n    const block = declaration.parent;\r\n\r\n    if (isForLoop(block)) {\r\n        if (block.type === \"ForStatement\") {\r\n            return block.init === declaration;\r\n        }\r\n        return block.left === declaration;\r\n    }\r\n    return Boolean(node.init);\r\n}\r\n\r\n//------------------------------------------------------------------------------\r\n// Rule Definition\r\n//------------------------------------------------------------------------------\r\n\r\n/** @type {import('../shared/types').Rule} */\r\nmodule.exports = {\r\n    meta: {\r\n        type: \"suggestion\",\r\n\r\n        docs: {\r\n            description: \"require or disallow initialization in variable declarations\",\r\n            recommended: false,\r\n            url: \"https://eslint.org/docs/rules/init-declarations\"\r\n        },\r\n\r\n        schema: {\r\n            anyOf: [\r\n                {\r\n                    type: \"array\",\r\n                    items: [\r\n                        {\r\n                            enum: [\"always\"]\r\n                        }\r\n                    ],\r\n                    minItems: 0,\r\n                    maxItems: 1\r\n                },\r\n                {\r\n                    type: \"array\",\r\n                    items: [\r\n                        {\r\n                            enum: [\"never\"]\r\n                        },\r\n                        {\r\n                            type: \"object\",\r\n                            properties: {\r\n                                ignoreForLoopInit: {\r\n                                    type: \"boolean\"\r\n                                }\r\n                            },\r\n                            additionalProperties: false\r\n                        }\r\n                    ],\r\n                    minItems: 0,\r\n                    maxItems: 2\r\n                }\r\n            ]\r\n        },\r\n        messages: {\r\n            initialized: \"Variable '{{idName}}' should be initialized on declaration.\",\r\n            notInitialized: \"Variable '{{idName}}' should not be initialized on declaration.\"\r\n        }\r\n    },\r\n\r\n    create(context) {\r\n\r\n        const MODE_ALWAYS = \"always\",\r\n            MODE_NEVER = \"never\";\r\n\r\n        const mode = context.options[0] || MODE_ALWAYS;\r\n        const params = context.options[1] || {};\r\n\r\n        //--------------------------------------------------------------------------\r\n        // Public API\r\n        //--------------------------------------------------------------------------\r\n\r\n        return {\r\n            \"VariableDeclaration:exit\"(node) {\r\n\r\n                const kind = node.kind,\r\n                    declarations = node.declarations;\r\n\r\n                for (let i = 0; i < declarations.length; ++i) {\r\n                    const declaration = declarations[i],\r\n                        id = declaration.id,\r\n                        initialized = isInitialized(declaration),\r\n                        isIgnoredForLoop = params.ignoreForLoopInit && isForLoop(node.parent);\r\n                    let messageId = \"\";\r\n\r\n                    if (mode === MODE_ALWAYS && !initialized) {\r\n                        messageId = \"initialized\";\r\n                    } else if (mode === MODE_NEVER && kind !== \"const\" && initialized && !isIgnoredForLoop) {\r\n                        messageId = \"notInitialized\";\r\n                    }\r\n\r\n                    if (id.type === \"Identifier\" && messageId) {\r\n                        context.report({\r\n                            node: declaration,\r\n                            messageId,\r\n                            data: {\r\n                                idName: id.name\r\n                            }\r\n                        });\r\n                    }\r\n                }\r\n            }\r\n        };\r\n    }\r\n};\r\n"]},"metadata":{},"sourceType":"script"}