{"ast":null,"code":"export const NODE_FLAG = {\n  EL: 1,\n  //元素\n  TEXT: 1 << 1\n};\n\nconst createTextNode = text => {\n  return {\n    type: '',\n    props: {\n      nodeValue: text + ''\n    },\n    $$: {\n      flag: NODE_FLAG.TEXT\n    }\n  };\n};\n\nconst createVNode = (type, props, key, $$) => {\n  return {\n    type,\n    props,\n    key,\n    $$\n  };\n};\n\nexport const createElement = function (type, props) {\n  for (var _len = arguments.length, children = new Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++) {\n    children[_key - 2] = arguments[_key];\n  }\n\n  props = props || [];\n  let key = props.key || void 0;\n  const kids = props.children || children;\n  children = kids.map(child => typeof child === 'string' ? createTextNode(child) : child);\n\n  if (children.length) {\n    props.children = children.length === 1 ? children[0] : children;\n  } //定义一些内部属性\n\n\n  const $$ = {};\n  $$.staticNode = null;\n  $$.flag = type === \"\" ? NODE_FLAG.TEXT : NODE_FLAG.EL;\n  return createVNode(type, props, key, $$);\n};","map":{"version":3,"sources":["/Users/only/Desktop/文件/web0930  1210-1211/react-17/src/react/react.js"],"names":["NODE_FLAG","EL","TEXT","createTextNode","text","type","props","nodeValue","$$","flag","createVNode","key","createElement","children","kids","map","child","length","staticNode"],"mappings":"AACA,OAAO,MAAMA,SAAS,GAAC;AACnBC,EAAAA,EAAE,EAAE,CADe;AACZ;AACPC,EAAAA,IAAI,EAAG,KAAK;AAFO,CAAhB;;AAIP,MAAMC,cAAc,GAAIC,IAAD,IAAU;AAC7B,SAAO;AACHC,IAAAA,IAAI,EAAC,EADF;AAEHC,IAAAA,KAAK,EAAC;AACFC,MAAAA,SAAS,EAACH,IAAI,GAAC;AADb,KAFH;AAKHI,IAAAA,EAAE,EAAC;AACCC,MAAAA,IAAI,EAACT,SAAS,CAACE;AADhB;AALA,GAAP;AASH,CAVD;;AAYA,MAAMQ,WAAW,GAAG,CAACL,IAAD,EAAMC,KAAN,EAAYK,GAAZ,EAAgBH,EAAhB,KAAqB;AACzC,SAAO;AACHH,IAAAA,IADG;AAEHC,IAAAA,KAFG;AAGHK,IAAAA,GAHG;AAIHH,IAAAA;AAJG,GAAP;AAMC,CAPD;;AAQA,OAAO,MAAMI,aAAa,GAAG,UAACP,IAAD,EAAMC,KAAN,EAA4B;AAAA,oCAAbO,QAAa;AAAbA,IAAAA,QAAa;AAAA;;AACrDP,EAAAA,KAAK,GAAGA,KAAK,IAAE,EAAf;AACA,MAAIK,GAAG,GAAGL,KAAK,CAACK,GAAN,IAAW,KAAK,CAA1B;AAEA,QAAMG,IAAI,GAAGR,KAAK,CAACO,QAAN,IAAgBA,QAA7B;AACAA,EAAAA,QAAQ,GAAGC,IAAI,CAACC,GAAL,CAASC,KAAK,IAAI,OAAOA,KAAP,KAAiB,QAAjB,GAA0Bb,cAAc,CAACa,KAAD,CAAxC,GAAgDA,KAAlE,CAAX;;AAEA,MAAGH,QAAQ,CAACI,MAAZ,EAAmB;AACfX,IAAAA,KAAK,CAACO,QAAN,GAAiBA,QAAQ,CAACI,MAAT,KAAoB,CAApB,GAAuBJ,QAAQ,CAAC,CAAD,CAA/B,GAAmCA,QAApD;AACH,GAToD,CAWrD;;;AACA,QAAML,EAAE,GAAG,EAAX;AACAA,EAAAA,EAAE,CAACU,UAAH,GAAgB,IAAhB;AACAV,EAAAA,EAAE,CAACC,IAAH,GAAUJ,IAAI,KAAK,EAAT,GAAYL,SAAS,CAACE,IAAtB,GAA2BF,SAAS,CAACC,EAA/C;AAEA,SAAOS,WAAW,CAACL,IAAD,EAAMC,KAAN,EAAYK,GAAZ,EAAgBH,EAAhB,CAAlB;AACH,CAjBM","sourcesContent":["\nexport const NODE_FLAG={\n    EL: 1, //元素\n    TEXT:  1 << 1\n}\nconst createTextNode = (text) => {\n    return {\n        type:'',\n        props:{\n            nodeValue:text+'',\n        },\n        $$:{\n            flag:NODE_FLAG.TEXT\n        }\n    }\n}\n\nconst createVNode = (type,props,key,$$)=>{\nreturn {\n    type,\n    props,\n    key,\n    $$\n}\n}\nexport const createElement = (type,props,...children) => {\n    props = props||[];\n    let key = props.key||void 0;\n\n    const kids = props.children||children;\n    children = kids.map(child => typeof child === 'string'?createTextNode(child):child)\n\n    if(children.length){\n        props.children = children.length === 1 ?children[0]:children;\n    }\n\n    //定义一些内部属性\n    const $$ = {};\n    $$.staticNode = null;\n    $$.flag = type === \"\"?NODE_FLAG.TEXT:NODE_FLAG.EL;\n\n    return createVNode(type,props,key,$$)\n}"]},"metadata":{},"sourceType":"module"}